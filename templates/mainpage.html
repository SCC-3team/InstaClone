<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>

    <title>Main Feed Page</title>

    <!-- Required meta tags -->

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp"
          rel="stylesheet">
    <link rel="stylesheet"
          href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>


    <!--  CSS  -->

    <link rel="stylesheet" type="text/css" href="../static/mainpage.css">
    <link rel="stylesheet" href="../static/side_bar.css">
    <link rel="stylesheet" href="../static/header.css">

    <!--search bar link -->

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="fontawesome-free-5.15.1/css/all.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <!--    fontawesome script-->

    <script src="https://kit.fontawesome.com/993c2cba92.js" crossorigin="anonymous"></script>

    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css"/>
    </noscript>
    <!--    js 파일 script-->
    <script src="../static/myjs.js"></script>
</head>

<script>

    $(document).ready(function () {
        get_posts()
    })
    $(document).ready(function () {
        get_upload()
    })

</script>

<body class="body">
<div class="react">
    <div class="section">

        <!--         네비게이션 헤더 바           -->

        <div class="nav">
            <div class="nav2">
                <nav class="header-wrap">

                    <!--           헤더 바              -->

                    <header class="header">

                        <!--           인스타그램 로고        -->

                        <div class="logo-area">
                            <div class="logo-area2">

                                <!--           인스타그램 로고 아이콘               -->

                                <div class="icons">
                                    <div class="icon">
                                        <div class="icon2">

                                            <!--           로고 아이콘 클릭시 메인페이지 소환          -->

                                            <li class="icon3"><a href="">
                                                <i class="fa-brands fa-instagram fa-2xl icon-deco"></i>
                                                </i></a>
                                            </li>
                                        </div>
                                    </div>
                                </div>

                                <!--               인스타그램 로고 텍스트 디자인                  -->
                                <!--               텍스트 클릭시 메인페이지 소환          -->
                                <!--               텍스트 클릭시 메인페이지 소환(플라스크 서버연결)          -->

                                <div class="logo-area3">
                                    <a href=""><img alt="Instagram" class="s4Iyt logo-align"
                                                    src="https://www.edigitalagency.com.au/wp-content/uploads/new-Instagram-logo-white-png-font.png"></a>
                                </div>
                            </div>
                        </div>

                        <!--           검색바               -->

                        <div class="search-area">
                            <input class="input" placeholder="Search...">
                        </div>

                        <!--           네비게이션 아이콘 부모 div       -->

                        <div class="nav-layout">
                            <div class="nav-icons">

                                <!--               게시물 추가 아이콘                 -->
                                <!--               업로드.html 연결                -->
                                <!--                  모달 추가                     -->
                                <div class="icons">
                                    <div class="icon">
                                        <div class="icon2">
                                            <li id="add_feed" class="icon3"><i
                                                    class="fa-solid fa-square-plus fa-2xl icon-deco"></i></li>
                                        </div>
                                    </div>
                                </div>

                                <!--               좋아요 아이콘                     -->
                                <!--             좋아요 카운트 추가                   -->

                                <div class="icons">
                                    <div class="icon">
                                        <div class="icon2">
                                            <li class="icon3"><a href=""><i
                                                    class="fa-solid fa-heart fa-2xl icon-deco"></i></a>
                                            </li>
                                        </div>
                                    </div>
                                </div>

                                <!--               다이렉트 메세지 추가 아이콘           -->
                                <!--               유저 간 메세지 보내기 기능           -->

                                <div class="icons">
                                    <div class="icon">
                                        <div class="icon2">
                                            <li class="icon3"><a href=""><i
                                                    class="fa-solid fa-comments fa-2xl icon-deco"></i></a>
                                            </li>
                                        </div>
                                    </div>
                                </div>

                                <!--               마이 프로필 아이콘                 -->
                                <!--               클릭시 개별 페이지 이동하도록 href 변경해야 함                 -->

                                <div class="icons">
                                    <div class="icon">
                                        <div class="icon2">
                                            <li class="icon3"><a href="profile-page.html"><i
                                                    class="fa-solid fa-user fa-2xl icon-deco"></i></a>
                                            </li>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </header>
                </nav>
            </div>
        </div>

        <!--         메인 피드 + 사이드 바            -->

        <div class="main">
            <section class="section-feed">

                <!--            피드백 라인             -->

                <div class="feedback-line">
                    <div class="feedback-style">
                        <div class="feedback">
                            <div class="feedback2">

                                <!--              게시글 피드 추가          -->
                                <div id="feesd-box"></div>

                                <!--              캐러셀                  -->
                                <div class="article1">


                                    <!--              메인 피드 창 프로필 표시                          -->

                                    <div class=" feedback-name">
                                        <div class="feedback-name2">

                                            <!--              피드 창 프로필 이름 해더                    -->

                                            <div class="feedback-name-header">

                                                <!--              피드 창 프로필 사진                    -->
                                                <!--              src를 변경할지 백그라운드 이미지를 변경할지 ??                    -->
                                                <!--              백그라운드 이미지 변경일 경우 CSS를 바꾸는 JQuery필요한데 상당히 번거로움 CSS를 개별적으로 하나씩 다 붙여야 함               -->
                                                <!--              scr를 변경할 경우 이미지 캔버스를 통째로 temp_html해야함                    -->

                                                <div class="fn-b-pic">
                                                    <div class="fb-n-pic1">
                                                        <canvas class="canvas-b"></canvas>
                                                        <span class="main-contents-nav-profile-pic1" role="link"
                                                              tabindex="-1">
                                                                    <img alt="" class="main-contents-nave-profile-pic2"
                                                                         crossorigin="anonymous"
                                                                         data-testid="user-avatar"
                                                                         draggable="false" src="">
                                                                </span>
                                                    </div>
                                                </div>

                                                <!--              피드 창 프로필 이름                    -->
                                                <!--              피드 창 프로필 이름 Id                 -->

                                                <div class="fb-n-title">
                                                    <div class="fb-n-title-up">
                                                        <div class="fbntu-1">
                                                            <div class="fbntu-2">
                                                                <a class="fbntu-span" href="profile-page.html"
                                                                   tabindex="0">h_genie7</a>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!--              피드 창 프로필 이름 테그                -->

                                                    <div class="fb-n-title-down">
                                                        <div class="fbntd-1">
                                                            <div class="fbntd-2">
                                                                <div class="fbntd-3">
                                                                    <a class="fbntd-Atag"
                                                                       href="https://www.jejusi.go.kr/index.ac"
                                                                       tabindex="0">Jeju Island</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--              피드 창 프로필 모달 쩜쩜쩜                   -->
                                            <!--               기능은 없음                   -->

                                            <div class="feedback-name-tag">
                                                <button class="fnt-btn">
                                                    <div class="fnt-btn-1">
                                                        <div class="fnt-btn-2">
                                                            <svg class="fnt-btn-svg" aria-label="More options"
                                                                 role="img" viewBox="0 0 24 24">
                                                                <circle cx="4" cy="12" r="1.5"></circle>
                                                                <circle cx="12" cy="12" r="1.5"></circle>
                                                                <circle cx="20" cy="12" r="1.5"></circle>
                                                            </svg>
                                                        </div>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <!--              피드 창 부트스트랩 캐러셀                          -->
                                    <!--              아이디 값 바꿔주고 밑에 data-bs-target 아이디 같이 가줘야 작동함                     -->

                                    <div class="feed_img">
                                        <div id="carouselExampleControlsNoTouching" class="carousel slide"
                                             data-bs-touch="false" data-bs-interval="false">
                                            <div class="carousel-inner">

                                                <!--             첫번째 사진 src 경로 입력               -->

                                                <div class="carousel-item active">
                                                    <img src="../static/h_genie7_image/정사각형/0B1CD144-A109-47D8-89B7-D5F4B9ABC55B.JPEG"
                                                         class="d-block w-100" alt="...">
                                                </div>

                                                <!--             왠만하면 두번째 사진까지라도 같이 가져가서 temp_html 해야함               -->
                                                <!--             div 클래스가 다르기 때문임.               -->

                                                <div class="carousel-item">
                                                    <img src="../static/h_genie7_image/정사각형/0DE8336F-48E1-47E2-99DD-813B10968B39.JPEG"
                                                         class="d-block w-100" alt="...">
                                                </div>
                                                <div class="carousel-item">
                                                    <img src="../static/h_genie7_image/정사각형/5A009CC3-9B62-440C-AA7C-7B32B06A358B.JPEG"
                                                         class="d-block w-100" alt="...">
                                                </div>
                                            </div>

                                            <!--             캐러셀 사진 이동 버튼임               -->
                                            <!--             data-bs-target을 해당 캐러셀과 같은 값을 줘야함               -->
                                            <!--             보통 타겟아이디 뒤에 숫자를 붙이는게 쉬움               -->
                                            <!--             ex) target1 , target1-1, target1-2               -->

                                            <button class="carousel-control-prev" type="button"
                                                    data-bs-target="#carouselExampleControlsNoTouching"
                                                    data-bs-slide="prev">
                                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                <span class="visually-hidden">Previous</span>
                                            </button>
                                            <button class="carousel-control-next" type="button"
                                                    data-bs-target="#carouselExampleControlsNoTouching"
                                                    data-bs-slide="next">
                                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                <span class="visually-hidden">Next</span>
                                            </button>
                                        </div>
                                    </div>

                                    <!--              피드 창 컨텐츠 표시                          -->

                                    <div class="feedback-contents">
                                        <div class="feedback-contents-layout">
                                            <section class="fsl-buttons">

                                                <!--                   좋아요 버튼 - 기능없음                           -->

                                                <span class="span-like">
                                                            <button class="like-btn">
                                                                <i class="fa-regular fa-heart fa-2xl">
                                                            </i>
                                                            </button>
                                                        </span>

                                                <!--                   메세지보내기 버튼 - 생각없이 만듬                            -->

                                                <span class="span-like">
                                                            <button class="like-btn">
                                                                <i class="fa-regular fa-envelope fa-2xl"></i>
                                                                </i>
                                                            </button>
                                                        </span>

                                                <!--                   댓글 달기 버튼 - 피드 모달 창 띄워주기                             -->

                                                <span class="span-like">
                                                            <button class="like-btn">
                                                                <i class="fa-regular fa-comment fa-2xl"></i>
                                                                </i>
                                                            </button>
                                                        </span>

                                                <!--                   POST 버튼 - 기능 없음                             -->

                                                <div class="span-post1">
                                                            <span class="span-post">
                                                            <button class="like-btn">
                                                                <i class="fa-regular fa-bookmark fa-2xl"></i>
                                                                </i>
                                                            </button>
                                                        </span>
                                                </div>
                                            </section>

                                            <!--                     좋아요 카운트                        -->

                                            <section class="like-count">
                                                <div class="like-count1">
                                                    <a class="btn_i btn-open-popup">60 likes</a>
                                                </div>
                                            </section>

                                            <!--                     컨텐츠 텍스트랑 설명                        -->

                                            <div class="comments">
                                                <div class="explanation">

                                                    <!--                     등록 유저 아이디랑 설명                        -->

                                                    <div>
                                                        <div class="explan-ID"><a href="">h_genie7</a></div>
                                                        <div class="comment-explanation">부트캠프 끝나면 비행기타고 제일 먼저 제주도 갈거야
                                                        </div>
                                                    </div>

                                                    <!--                     첫번째 댓글란                       -->
                                                    <!--          여기부턴 temp_html해서 하나씩 붙여 나가기           -->
                                                    <!--            팬명록 프로젝트 참고하면 좋을 듯                  -->

                                                    <!--          DB에 있는 POST DB에서 댓글을 GET으로 끌어옴      -->
                                                    <div>
                                                        <p>
                                                        <div id="post-box" class="comment-explanation1">
                                                        </div>
                                                        </p>

                                                    </div>

                                                    <!--                     두번째 댓글란                        -->

                                                    <div>
                                                        <div>1234</div>
                                                        <div class="comment-explanation2">sdfasdfsa
                                                        </div>
                                                    </div>

                                                    <!--                     더보기 테그 - 피드 모달 띄워주기                        -->

                                                    <span>...
                                                                <div aria-disabled="false" role="button" tabindex="0">more
                                                                </div>
                                                            </span>
                                                </div>
                                            </div>

                                            <!--                     댓글입력 창                        -->
                                            <!-- input을 textarea로 받음     -->
                                            <section class="comments-input">
                                                <div class="comment-input">
                                                    <input class="form-control form-control-sm comment-input"
                                                           id="textarea-post"
                                                           type="text" placeholder="Post your comments"
                                                           aria-label=".form-control-sm example">
                                                </div>

                                                <!--                     댓글 달기 버튼                        -->

                                                <div class="comment-post">
                                                    <a href="javascript:posting();" class="comment-post-icon"><i
                                                            class="fa-solid fa-angles-up fa-2xl"></i></a>
                                                </div>
                                            </section>
                                        </div>
                                    </div>
                                </div>


                                <div class="article1">

                                    <!--              피드 창 프로필 표시                          -->
                                    <div class="feedback-name">
                                        <div class="feedback-name2">

                                            <!--              피드 창 프로필 이름 해더                    -->
                                            <div class="feedback-name-header">

                                                <!--              피드 창 프로필 사진                    -->
                                                <div class="fn-b-pic">

                                                    <!--                       마찬가지로 아이디값 중복 안되게 해야함                             -->
                                                    <!--                       유저 프로필 페이지 사진을 불러오는 식으로 해야 할 듯                             -->

                                                    <div class="fb-n-pic1">
                                                        <canvas class="canvas-b"></canvas>
                                                        <span class="main-contents-nav-profile-pic2" role="link"
                                                              tabindex="-1">
                                                                    <img alt="" class="main-contents-nave-profile-pic2"
                                                                         crossorigin="anonymous"
                                                                         data-testid="user-avatar"
                                                                         draggable="false" src="">
                                                                </span>
                                                    </div>
                                                </div>

                                                <!--              피드 창 프로필 이름                    -->
                                                <!--              피드 창 프로필 이름 Id                 -->

                                                <div class="fb-n-title">
                                                    <div class="fb-n-title-up">
                                                        <div class="fbntu-1">
                                                            <div class="fbntu-2">
                                                                <a class="fbntu-span" href=""
                                                                   tabindex="0">Tottenham Hotspur</a>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!--              피드 창 프로필 이름 테그                -->

                                                    <div class="fb-n-title-down">
                                                        <div class="fbntd-1">
                                                            <div class="fbntd-2">
                                                                <div class="fbntd-3">
                                                                    <a class="fbntd-Atag" href="..." tabindex="0">Tottenham
                                                                        Hotspur Stadium</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--              피드 창 프로필 모달 쩜쩜쩜                   -->

                                            <div class="feedback-name-tag">
                                                <button class="fnt-btn">
                                                    <div class="fnt-btn-1">
                                                        <div class="fnt-btn-2">
                                                            <svg class="fnt-btn-svg" aria-label="More options"
                                                                 role="img" viewBox="0 0 24 24">
                                                                <circle cx="4" cy="12" r="1.5"></circle>
                                                                <circle cx="12" cy="12" r="1.5"></circle>
                                                                <circle cx="20" cy="12" r="1.5"></circle>
                                                            </svg>
                                                        </div>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <!--              피드 창 캐러셀                          -->

                                    <div class="feed_img">
                                        <div id="carouselExampleControlsNoTouching1" class="carousel slide"
                                             data-bs-touch="false" data-bs-interval="false">

                                            <!--                       손흥민 사진 하나만 넣음                             -->

                                            <div class="carousel-inner">
                                                <div class="carousel-item active">
                                                    <img src="http://res.heraldm.com/content/image/2022/04/04/20220404000101_0.jpg"
                                                         class="d-block w-100" alt="...">
                                                </div>
                                            </div>

                                            <!--                       마찬가지로 아이디값 중복 안되게 해야함                             -->

                                            <button class="carousel-control-prev" type="button"
                                                    data-bs-target="#carouselExampleControlsNoTouching1"
                                                    data-bs-slide="prev">
                                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                <span class="visually-hidden">Previous</span>
                                            </button>
                                            <button class="carousel-control-next" type="button"
                                                    data-bs-target="#carouselExampleControlsNoTouching1"
                                                    data-bs-slide="next">
                                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                <span class="visually-hidden">Next</span>
                                            </button>
                                        </div>
                                    </div>

                                    <!--              피드 창 컨텐츠 표시                          -->

                                    <div class="feedback-contents">
                                        <div class="feedback-contents-layout">
                                            <section class="fsl-buttons">

                                                <!--                       좋아요 버튼                             -->
                                                <!--                       좋아요 카운트 해야함                             -->

                                                <span class="span-like">
                                                        <button class="like-btn">
                                                            <i class="fa-regular fa-heart fa-2xl">
                                                        </i>
                                                        </button>
                                                    </span>

                                                <!--                       메세지 보내기 버튼 - 기능 없음                             -->

                                                <span class="span-like">
                                                        <button class="like-btn">
                                                            <i class="fa-regular fa-envelope fa-2xl"></i>
                                                            </i>
                                                        </button>
                                                    </span>

                                                <!--                       댓글 달기 버튼 - 피드 모달창 띄우도록 해야 함                             -->

                                                <span class="span-like">
                                                        <button class="like-btn">
                                                            <i class="fa-regular fa-comment fa-2xl"></i>
                                                            </i>
                                                        </button>
                                                    </span>

                                                <!--                       포스트 버튼 - 기능 없음                            -->

                                                <div class="span-post1">
                                                        <span class="span-post">
                                                        <button class="like-btn">
                                                            <i class="fa-regular fa-bookmark fa-2xl"></i>
                                                            </i>
                                                        </button>
                                                    </span>
                                                </div>
                                            </section>

                                            <!--                       좋아요 카운트                             -->
                                            <!--                       클릭 시 피드 모달창 띄워주기                             -->

                                            <section class="like-count">
                                                <div class="like-count1">
                                                    <a class="btn_i btn-open-popup">60 likes</a>
                                                </div>
                                            </section>

                                            <!--                       댓글 컨텐츠                             -->

                                            <div class="comments">
                                                <div class="explanation">

                                                    <!--                       유저 아이디랑 설명                            -->

                                                    <div class="comment-explanation">
                                                        <div class="explan-ID"><a href="">Tottenham Hotspur</a></div>
                                                        <div>explanation : 손흥민(토트넘 핫스퍼)이 득점왕 경쟁을 벌이고 있는 모하메드 살라(리버풀)가
                                                            지켜보는 앞에서 잉글랜드 프리미어리그(EPL) 20번째 골을 쏘아올렸다. 손흥민의 선제골에 토트넘도 승리의
                                                            기운을 모았지만 아쉬운 무승부로 경기를 마감했다. 토트넘은 8일(한국시간) 영국 리버풀 안필드에서 열린
                                                            리버풀과 2021~22 EPL 원정경기에서 후반 11분 손흥민의 선제골로 앞서나갔지만 후반 29분 루이스
                                                            디아즈에게 동점골을 내줘 1-1로 비겼다.
                                                        </div>
                                                    </div>

                                                    <!--                       첫번째 댓글                            -->

                                                    <div>
                                                        <div><a href="">salah</a></div>
                                                        <div>Sonny is outstanding player
                                                        </div>
                                                    </div>

                                                    <!--                       두번째 댓글                            -->

                                                    <div>
                                                        <div>h_genie7</div>
                                                        <div>국뽕이 차오른다</div>
                                                    </div>

                                                    <!--                       더보기 버튼 - 클릭시 피드 모달창 띄워줘야 함                            -->

                                                    <span>...
                                                            <div aria-disabled="false" role="button" tabindex="0"
                                                                 onclick="">more
                                                            </div>
                                                        </span>
                                                </div>
                                            </div>

                                            <!--                       댓글 입력 창                           -->

                                            <section class="comments-input">
                                                <div class="comment-input">
                                                    <input class="form-control form-control-sm comment-input"
                                                           type="text" placeholder="Post your comments"
                                                           aria-label=".form-control-sm example">
                                                </div>

                                                <!--                       댓글 달기 버튼                            -->
                                                <!--                       댓글 temp_html                            -->

                                                <div class="comment-post">
                                                    <a href="" class="comment-post-icon"><i
                                                            class="fa-solid fa-angles-up fa-2xl"></i></a>
                                                </div>
                                            </section>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--            사이드 바 라인           -->

                <div class="main-side-bar">

                    <!--            사이드 바 라인 내 프로필           -->

                    <div class="msb-profile">
                        <div class="msb-profile-area">
                            <div class="msd-profile-border">

                                <!--            사이드 바 라인 내 프로필 사진          -->
                                <!--            개별 프로필 사진 불러와야 함           -->

                                <div class="msd-profile-user-pic">
                                    <a class="mpup-1"></a>
                                </div>

                                <!--            사이드 바 라인 내 프로필 ID랑 ID태그           -->

                                <div class="msd-profile-user-id">
                                    <div class-="mpui-1">
                                        <a class="mpui-1-id" href="profile-page.html" tabindex="0">김혁진</a>
                                    </div>
                                    <div class="mpui-2">
                                        <div>21-22 챔스 우승 리버풀</div>
                                    </div>
                                </div>

                                <!--            사이드 바 라인 내 프로필 계정전환          -->
                                <!--            클릭시 로그아웃          -->

                                <div class="msd-profile-user-account">
                                    <button class="mpua-btn" onclick="location.href='loginpage.html'">Switch</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--            사이드 바 라인 추천 프로필          -->

                    <hr style="width: 340px; border: 1px solid rgb(180, 180, 180)">
                    <div class="msb-suggest">

                        <!--            사이드 바 라인 추천 프로필 See all          -->

                        <div class="msbs-text-area">
                            <div class="msbs-text">
                                <div class="msbs-text-1">
                                    <p>Suggestions For You</p>
                                </div>

                                <!--            See all 버튼 클릭시 어디로 갈지 ??          -->

                                <div class="msbs-seeall">
                                    <button class="mapua-btn-seeall" onclick="">See All</button>
                                </div>
                            </div>
                        </div>

                        <!--            사이드 바 라인 추천 개별 프로필모음           -->

                        <div class="msbap-area">
                            <div class="msb-another-profile-1">

                                <!--            사이드 바 라인 추천 개별 프로필 1           -->

                                <div class="msb-another-profile">
                                    <div class="msb-another-profile-area">
                                        <div class="msd-another-profile-border">

                                            <!--            유저 프로필 이미지          -->

                                            <div class="msd-another-profile-user-pic">
                                                <a class="mapup-1"></a>
                                            </div>

                                            <!--            유저 이름 클릭시 유저 프로필 페이지로 이동          -->

                                            <div class="masd-profile-user-id">
                                                <div class-="mapui-1">
                                                    <a class="mapui-1-id" href="profile-page.html" tabindex="0">안정환</a>
                                                </div>
                                                <div class="mapui-2">
                                                    <div>경기 수원</div>
                                                </div>
                                            </div>

                                            <!--            팔로우 할지 말지          -->

                                            <div class="msd-another-profile-user-follow">
                                                <button class="mapua-btn">follow</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--            사이드 바 라인 추천 개별 프로필 2           -->

                                <div class="msb-another-profile">
                                    <div class="msb-another-profile-area">
                                        <div class="msd-another-profile-border">

                                            <!--            유저 프로필 이미지          -->

                                            <div class="msd-another-profile-user-pic">
                                                <a class="mapup-1"></a>
                                            </div>

                                            <!--            유저 이름 클릭시 유저 프로필 페이지로 이동          -->

                                            <div class="masd-profile-user-id">
                                                <div class-="mapui-1">
                                                    <a class="mapui-1-id" href="profile-page.html" tabindex="0">서정인</a>
                                                </div>
                                                <div class="mapui-2">
                                                    <div>충북 청주</div>
                                                </div>
                                            </div>

                                            <!--            팔로우 할지 말지          -->

                                            <div class="msd-another-profile-user-follow">
                                                <button class="mapua-btn">follow</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--            사이드 바 라인 추천 개별 프로필 3           -->

                                <div class="msb-another-profile">
                                    <div class="msb-another-profile-area">
                                        <div class="msd-another-profile-border">

                                            <!--            유저 프로필 이미지          -->

                                            <div class="msd-another-profile-user-pic">
                                                <a class="mapup-1"></a>
                                            </div>

                                            <!--            유저 이름 클릭시 유저 프로필 페이지로 이동          -->

                                            <div class="masd-profile-user-id">
                                                <div class-="mapui-1">
                                                    <a class="mapui-1-id" href="profile-page.html"
                                                       tabindex="0">김정후</a>
                                                </div>
                                                <div class="mapui-2">
                                                    <div>경기 김포</div>
                                                </div>
                                            </div>

                                            <!--            팔로우 할지 말지          -->

                                            <div class="msd-another-profile-user-follow">
                                                <button class="mapua-btn">follow</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--            사이드 바 라인 추천 개별 프로필 4           -->

                                <div class="msb-another-profile">
                                    <div class="msb-another-profile-area">
                                        <div class="msd-another-profile-border">

                                            <!--            유저 프로필 이미지          -->

                                            <div class="msd-another-profile-user-pic">
                                                <a class="mapup-1"></a>
                                            </div>

                                            <!--            유저 이름 클릭시 스파르타 홈페이지 이동          -->

                                            <div class="masd-profile-user-id">
                                                <div class-="mapui-1">
                                                    <a class="mapui-1-id" href="https://spartacodingclub.kr/"
                                                       tabindex="0">이범규</a>
                                                </div>
                                                <div class="mapui-2">
                                                    <div>스파르타 코딩클럽 대표</div>
                                                </div>
                                            </div>

                                            <!--            팔로우 할지 말지          -->

                                            <div class="msd-another-profile-user-follow">
                                                <button class="mapua-btn">follow</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <hr style="width: 340px; border: 1px solid rgb(180, 180, 180)">


                    <!--            사이드 바 라인 풋터               -->

                    <div class="msb-footer">

                        <!--            사이드 바 라인 풋터 관련링크모음               -->

                        <div class="msbf-nav">
                            <ul class="msbf-nav-ul">
                                <li class="msbf-nav-li">About</li>
                                <li class="msbf-nav-li">Help</li>
                                <li class="msbf-nav-li">Press</li>
                                <li class="msbf-nav-li">API</li>
                                <li class="msbf-nav-li">Jobs</li>
                                <li class="msbf-nav-li">Privacy</li>
                                <li class="msbf-nav-li">Terms</li>
                                <li class="msbf-nav-li">Location</li>
                                <li class="msbf-nav-li">Top Accounts</li>
                                <li class="msbf-nav-li">Hashtags</li>
                                <li class="msbf-nav-li">Language</li>
                            </ul>
                        </div>

                        <!--            사이드 바 라인 풋터 copy-right는 3팀에게               -->

                        <div class="msbf-copyright">
                            <p>㏇ 2022 Sparta Coding Club AI 3team</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>
</body>


<body>
<div id="modal_add_feed" class="modal modal_overlay">
    <div class="modal_window">
        <div class="modal_title">
            <div class="modal_title_side"></div>
            <div> 새 게시물</div>
            <div class="modal_title_side">
                    <span id="close_modal" class="close_modal material-icons-outlined" style="font-size: 30px">
                        close
                    </span>
            </div>
        </div>
        <div class="modal_image_upload">
            <br><br><br><br><br><br><br><br><br><br>
            <span style="text-align: center"> 사진을 여기에 끌어다 놓으세요. </span>

        </div>
    </div>
</div>

<div id="modal_add_feed_content" class="modal modal_overlay">
    <div class="modal_window">
        <div class="modal_title">
            <div class="modal_title_side"></div>
            <div style="margin: 5px"> 새 게시물</div>
            <div class="modal_title_side">
                    <span id="close_modal2" class="close_modal material-icons-outlined" style="font-size: 30px">
                        close
                    </span>
            </div>
        </div>
        <div class="modal_image_content">
            <div id="input_image" class="modal_image_upload_content">

            </div>
            <div class="modal_content_write">
                <div class="feed_name">
                    <div class="profile_box">
                        <img id="input_profile_image" class="profile_img"
                             src="https://scontent-ssn1-1.xx.fbcdn.net/v/t1.6435-9/s1080x2048/165180104_277246477102900_6106347261862438192_n.jpg?_nc_cat=102&ccb=1-5&_nc_sid=730e14&_nc_ohc=1sN4d8i7rn8AX-7aKYN&_nc_ht=scontent-ssn1-1.xx&oh=5049b7cd176848e330b0f5ea95f28172&oe=615A08D1">
                    </div>
                    <span id="input_user_id" class="feed_name_txt"> jeongin.00 </span>
                </div>
                <div style="height: 440px">
                        <textarea id="input_content" class="feed_content_textarea form-control col-sm-5" rows="10"
                                  placeholder="설명을 입력하세요..."></textarea>
                </div>
                <div style="width: 100%; text-align: center">
                    <button id="button_write_feed" type="button" class="btn btn-primary" style="width: 268px"> 공유하기
                    </button>
                </div>
            </div>
        </div>

    </div>
</div>
</body>


<script>
    // 모달 띄우기 코드
    const modal = document.getElementById("modal_add_feed");
    const modal2 = document.getElementById("modal_add_feed_content");
    const buttonAddFeed = document.getElementById("add_feed");
    buttonAddFeed.addEventListener("click", e => {
        modal.style.top = window.pageYOffset + 'px'; // top을 이용해 시작 y위치를 바꿔줌
        modal.style.display = "flex";
        document.body.style.overflowY = "hidden"; // 스크롤 없애기
    });
    // 모달 닫기 코드
    const buttonCloseModal = document.getElementById("close_modal");
    buttonCloseModal.addEventListener("click", e => {
        modal.style.display = "none";
        document.body.style.overflowY = "visible";
    });
    const buttonCloseModal2 = document.getElementById("close_modal2");
    buttonCloseModal2.addEventListener("click", e => {
        modal2.style.display = "none";
        document.body.style.overflowY = "visible";
    });

    $('.modal_image_upload')
        .on("dragover", dragOver)
        .on("dragleave", dragOver)
        .on("drop", uploadFiles);

    function dragOver(e) {
        e.stopPropagation();
        e.preventDefault();

        if (e.type == "dragover") {
            $(e.target).css({
                "background-color": "black",
                "outline-offset": "-20px"
            });
        } else {
            $(e.target).css({
                "background-color": "white",
                "outline-offset": "-10px"
            });
        }
    }

    function uploadFiles(e) {
        e.stopPropagation();
        e.preventDefault();
        console.log(e.dataTransfer)
        console.log(e.originalEvent.dataTransfer)

        e.dataTransfer = e.originalEvent.dataTransfer;

        files = e.dataTransfer.files;
        if (files.length > 1) {
            alert('하나만 올려라.');
            return;
        }

        if (files[0].type.match(/image.*/)) {
            $('#modal_add_feed_content').css({
                display: 'flex'
            });
            $('.modal_image_upload_content').css({
                "background-image": "url(" + window.URL.createObjectURL(files[0]) + ")",
                "outline": "none",
                "background-size": "contain",
                "background-repeat": "no-repeat",
                "background-position": "center"
            });
            $('#modal_add_feed').css({
                display: 'none'
            })
        } else {
            alert('이미지가 아닙니다.');
            return;
        }
    };

    $('#button_write_feed').on('click', () => {
        let image = $('#input_image').css("background-image").replace(/^url\(['"](.+)['"]\)/, '$1');
        let content = $('#input_content').val();
        let profile_image = $('#input_profile_image').attr('src');
        let user_id = $('#input_user_id').text();

        let file = files[0];

        let fd = new FormData();

        fd.append('file', file);
        fd.append('image', image);
        fd.append('content', content);
        fd.append('profile_image', profile_image);
        fd.append('user_id', user_id);

        if (image.length <= 0) {
            alert("이미지가 비어있습니다.");
        } else if (content.length <= 0) {
            alert("설명을 입력하세요");
        } else if (profile_image.length <= 0) {
            alert("프로필 이미지가 비어있습니다.");
        } else if (user_id.length <= 0) {
            alert("사용자 id가 없습니다.");
        } else {
            writeFeed(fd);
            console.log(files[0]);
        }
    });

    function writeFeed(fd) {
        $.ajax({
            url: "/upload",
            data: fd,
            method: "POST",
            processData: false,
            contentType: false,
            success: function (data) {
                console.log("성공");
            },
            error: function (request, status, error) {
                console.log("에러");
            },
            complete: function () {
                console.log("무조건실행");
                modal2.style.display = "none";
                document.body.style.overflowY = "visible";
                window.location.reload();
                alert('업로드가 완료되었습니다!');
            }
        })
    };
</script>

</html>